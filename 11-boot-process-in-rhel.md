<h1> Chapter 11: Boot Process 	 </h1>

boot process of RHEL goes into a few stages
- 1 firmware phase
- 2 bootloader phase
- 3 kernel phase
- 4 the initialization phase

Firmware just spots the MBR and loads the bootloader, and that's about it

<h3> Boot Loader Phase and Kernel Phase </h3>
once firmware loads bootloader which is located in the boot sector of the boot device.
RHEL uses GRUB2 (Grand Unified BootLoader (Whon cares about such long names?)) versopm 2 as tje bppt;pader [rpgra,
grub2 supports both UEFI and BIOS firmwares.

The primary reason for the bootloader is just to locate the linux kernel code in the /boot file system, 
decompress it, load it in memory based on the configuration defined in the `/boot/grub/grub.cfg` file and transfers control over to it 
to complete the rest of the boot process. If the system firmware is UEFI, a file named `/boot/efi` which has its own configuration
in `/boot/efi/EFI/redhat/grub.efi` 

<h2> bootloader stages </h2>
- first it locates the intial RAM disk (initrd) file system image and decompresses and mounts it on /sysroot to serve as as the temporary root file system.
- The kernel loads necessary modules and DKMS from the initrd image, to allow access to physical disks and the partitions and file ssytems therein. It also loads
  any required drivers to support boot process. Later it unmounts /sysroot and mounts the actual physical root file system on / in read/write mode

<h3> The Intiailization Phase </h3>
This is the fourth and last stage in the boot process. Systemd takes control and loads all userspace required services, 
systemd is the default in RHEL8. It loads pretty much everything and brings the system up to the preset boot target


<h3> GRUB2 specifications </h3>
- if you enter a grub menu, and press E, you are effectively editing on the grub.cfg. Grub.cfg is a pretty standard file. It can be auto-generated by
`grub2-mkconfig -o` `$grub.cfg location`
- to reset a root password, simply boot the server and edit `kernel=...` line and put an `rd.break` in the end. This will drop you on a shell. Now chroot 
  on /sysroot, and mount files on read/write mode on the / : `mount -o remount,rw /`; Now just `passwd` will do the job! MAKE SURE TO: `touch /.autorelabel` 
  so that SELinux doesn't panic about some files changing from the last boot like /etc/shadow and what not

<h3> Linux Kernel </h3>

`uname -r` `=>` `4.18.0-80.el8.x86_x64`
numbers in order: major version, major revision, kernel patch version, version 80 redhat, entprise 8, architecture

<h2> Updating the Kernel </h2>

Never upgrade a kernel as it'd  remove the old one and install a new one and might leave yours ystem in an unbootable state. Instead install a new one and replace it.
Make sure to have a bootable flash standby to fix the system if necessary



